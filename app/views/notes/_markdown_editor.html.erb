<div>
  <%= f.label :content, "Content", class: "block text-sm font-medium text-neutral-700 mb-2" %>

  <!-- Editor Tabs -->
  <div class="border border-neutral-300 rounded-md overflow-hidden">
    <!-- Tab Headers -->
    <div class="bg-neutral-100 border-b border-neutral-300 flex">
      <button type="button"
              class="px-4 py-2 text-sm font-medium text-neutral-700 border-r border-neutral-300 bg-white hover:cursor-pointer"
              data-markdown-editor-target="writeTab"
              data-action="click->markdown-editor#showWrite">
        Write
      </button>
      <button type="button"
              class="px-4 py-2 text-sm font-medium text-neutral-700 bg-neutral-100 hover:cursor-pointer"
              data-markdown-editor-target="previewTab"
              data-action="click->markdown-editor#showPreview">
        Preview
      </button>
      <div class="flex-1"></div>
      <div class="px-4 py-2 text-xs text-neutral-500 bg-neutral-100">
        Supports Markdown formatting
      </div>
    </div>

    <!-- Editor Content -->
    <div class="relative">
      <!-- Write Mode -->
      <div data-markdown-editor-target="writePane">
        <%= f.text_area :content,
            placeholder: "Start writing your note...\n\nYou can use Markdown formatting:\n\n# Heading 1\n## Heading 2\n**Bold text**\n*Italic text*\n- List item\n\n[Link text](https://example.com)\n\n```code```",
            rows: 16,
            class: "w-full px-4 py-3 bg-white border-0 resize-none focus:ring-0 focus:outline-none font-mono text-sm leading-relaxed",
            data: {
              markdown_editor_target: "textarea",
              action: "input->markdown-editor#updatePreview"
            } %>
      </div>

      <!-- Preview Mode (hidden by default) -->
      <div class="hidden p-4 min-h-96 bg-white prose prose-neutral max-w-none"
            data-markdown-editor-target="preview">
        <p class="text-neutral-500 italic">Start writing to see preview...</p>
      </div>
    </div>
  </div>

  <!-- Markdown Help -->
  <div class="mt-2">
    <details class="text-xs text-neutral-600">
      <summary class="cursor-pointer hover:text-neutral-800">Markdown formatting help</summary>
      <div class="mt-2 p-3 bg-neutral-50 rounded-md space-y-1">
        <div><code># Heading 1</code> → <strong>Large heading</strong></div>
        <div><code>## Heading 2</code> → <strong>Medium heading</strong></div>
        <div><code>**bold**</code> → <strong>bold text</strong></div>
        <div><code>*italic*</code> → <em>italic text</em></div>
        <div><code>- item</code> → bullet list</div>
        <div><code>[text](url)</code> → clickable link</div>
        <div><code>`code`</code> → inline code</div>
        <div><code>```code block```</code> → code block</div>
      </div>
    </details>
  </div>
</div>
